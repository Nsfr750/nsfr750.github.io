---
lang: ja
lang-niv: fonto
lang-ref: 014-jbk
layout: page
title: '画像重複検出ツール'
---

# 画像重複検出ツール

画像重複検出ツールは、重複画像の効率的な管理と削除のために設計された強力なPythonアプリケーションです。Wandライブラリ（ImageMagick）を活用した高度な視覚的比較技術により、高い精度で重複画像を識別・管理します。

## 主な機能

- **高度な画像処理**: Wand/ImageMagickを活用した優れた画像フォーマットサポート
- **視覚的重複検出**: 視覚的に類似した画像を識別する知覚ハッシュ技術
- **包括的なフォーマットサポート**: JPEG、PNG、WEBP、PSDなどの主要な画像フォーマットに対応
- **直感的なインターフェース**: ダーク/ライトテーマ対応の使いやすいグラフィカルインターフェース
- **多言語サポート**: 英語とイタリア語の組み込み国際化対応
- **バッチ処理**: 数千枚の画像を効率的に処理
- **プレビューと比較**: アクション前の画像の並べて比較
- **安全な操作**: 完全削除ではなくごみ箱へ移動
- **詳細なログ記録**: トレーサビリティのための包括的操作ログ

## システム要件

- **Python**: 3.8以上（3.10以上を推奨）
- **ImageMagick**: Wand画像処理に必要
  - Windows: [ImageMagick Windows](https://imagemagick.org/script/download.php#windows)からインストール
  - macOS: `brew install imagemagick`
  - Linux: `sudo apt-get install libmagickwand-dev`
- **メモリ**: 最小4GB、大規模な画像コレクションには8GB以上を推奨
- **ストレージ**: 処理する画像＋一時ファイルの十分な空き容量
- **対応OS**: 
  - Windows 10/11
  - macOS 10.15以降
  - X11/Waylandを搭載したLinux

## Wand/ImageMagickを選ぶ理由

画像重複検出ツールがWand（ImageMagickのPythonバインディング）を使用する理由：

- PSD、GIF、BMPなどの幅広いフォーマットサポート
- 大容量画像のメモリ管理が優れている
- プラットフォーム間での一貫した動作
- 高度な画像操作機能
- 活発なメンテナンスとセキュリティアップデート

## 使い方

### メインインターフェース

アプリケーションは以下の主要コンポーネントを備えたモダンで使いやすいインターフェースを特徴としています：

1. **メニューバー**: すべてのアプリケーション機能と設定にアクセス
2. **ツールバー**: よく使う機能に素早くアクセス
3. **フォルダブラウザ**: スキャンするディレクトリをナビゲートして選択
4. **プレビューペイン**: 画像を並べて表示・比較
5. **結果パネル**: 類似度スコア付きで見つかった重複を表示
6. **ステータスバー**: 操作の進捗状況とシステム情報を表示

### 基本的なワークフロー

1. **ソースフォルダを選択**
   - 「フォルダを開く」ボタンをクリックするか、`ファイル > フォルダを開く`を使用
   - アプリケーションがサポートされている画像形式をスキャン
   - 対応形式: JPEG、PNG、WEBP、PSD、BMP、GIFなど（Wand/ImageMagick経由）

2. **スキャン設定を構成**
   - 類似度しきい値を調整（デフォルト: 90%）
   - 考慮する最小画像サイズを設定
   - 比較する画像プロパティを選択（サイズ、日付、コンテンツハッシュ）

3. **スキャンを開始**
   - 「スキャン開始」をクリックして重複検出を開始
   - 進捗状況がステータスバーに表示
   - いつでもスキャンを一時停止または停止可能

4. **結果を確認**
   - 重複グループがプレビュー付きで表示
   - ファイルサイズ、日付、類似度スコアで並べ替え
   - 検証のために並べて比較ツールを使用

5. **重複を管理**
   - 保持または削除する画像を選択
   - 重複をゴミ箱に移動（復元可能）または完全に削除
   - 参照用に結果をCSV/JSONにエクスポート

### 高度な機能

#### バッチ処理

- 複数のフォルダを順番に処理
- スキャン設定を保存・読み込み
- 自動スキャンをスケジュール

#### スマート選択

- 基準に基づいて画像を自動選択（最も古い、最も小さいなど）
- 最高解像度のバージョンを保持
- 特定の命名パターンを持つ画像を保持

#### 画像比較ツール

- 並べて表示と重ね合わせ表示モード
- ズームとパンを画像間で同期
- ヒストグラムとEXIFデータの比較

#### カスタムフィルター

- 画像寸法でフィルタリング
- 作成/更新日でフィルタリング
- 画像形式またはカラープロファイルでフィルタリング

#### Wand/ImageMagick統合

- 高度な画像形式のサポート
- カラープロファイルとメタデータの優れた処理
- ImageMagickで有効にした場合のRAWカメラフォーマットのサポート

### キーボードショートカット

| ショートカット | アクション                     |
|----------------|------------------------------|
| `Ctrl+O`      | フォルダを開く               |
| `Ctrl+F`      | 新しいスキャンを開始         |
| `Space`       | 現在の画像の選択を切り替え   |
| `Del`         | 選択した画像をゴミ箱に移動   |
| `Ctrl+Z`      | 最後の操作を元に戻す         |
| `F5`          | 表示を更新                   |

## パフォーマンス最適化

### 大規模コレクションの場合

- 初期フィルタリングに「クイック比較」モードを使用
- サムネイルをスキップするために最小ファイルサイズを増やす
- 大規模コレクションの場合はオフタイムにスキャンをスケジュール

### メモリ管理

- メモリを大量に消費する他のアプリケーションを閉じる
- 必要に応じてImageMagickのリソース制限を調整（インストールを参照）
- 小さいバッチで画像を処理

### ストレージの考慮事項

- 一時ファイル用に十分な空き容量を確保
- 可能な限りソースドライブから直接画像を処理
- より高速な処理のためにSSDの使用を検討

## トラブルシューティング

### パフォーマンスが遅い場合

- ImageMagickのポリシー設定を確認（インストールを参照）
- 同時実行数を減らす
- 大規模コレクションの場合はリアルタイムプレビューを無効化

### 画像が表示されない場合

- ImageMagickがその画像形式をサポートしているか確認
- ファイルのアクセス権限を確認
- ログビューアでエラーメッセージを確認

### 予期しない結果が表示される場合

- 類似度しきい値を調整
- フィルターが厳しすぎないか確認
- 画像メタデータが正しく読み取られているか確認

## 設定

### 主なオプション

#### 比較精度

- **精度レベル（1-100）**: 
  - 低い値ほど多くの重複を検出
  - 高い値はほぼ同一の重複のみを検出

#### 最小サイズ

- **無視する画像の最小値**:
  - 最小幅（ピクセル）
  - 最小高さ（ピクセル）
  - 最小サイズ（KB）

#### サポートされているフォーマット

- **許可する拡張子**:
  - .jpg, .jpeg
  - .png
  - .gif
  - .bmp
  - .webp

#### 除外フォルダ

- **無視するフォルダのリスト**:
  - システムフォルダ
  - 一時フォルダ
  - バックアップフォルダ
