---
lang: es
lang-niv: fonto
lang-ref: 015-jbk
layout: doc
order: 6
title: 'Lector/Grabador de Tarjetas MSR605'
---

# Lector/Grabador de Tarjetas MSR605 - Guía de Usuario

¡Bienvenido a la guía de usuario del Lector/Grabador de Tarjetas MSR605! Este documento te ayudará a comenzar a usar la aplicación para leer y escribir en tarjetas de banda magnética.

## Tabla de Contenidos
1. [Instalación](#instalación)
2. [Primeros Pasos](#primeros-pasos)
3. [Lectura de Tarjetas](#lectura-de-tarjetas)
4. [Escritura de Tarjetas](#escritura-de-tarjetas)
5. [Configuración](#configuración)
6. [Solución de Problemas](#solución-de-problemas)
7. [Formatos de Tarjeta](#formatos-de-tarjeta)
8. [Características Avanzadas](#características-avanzadas)
9. [Preguntas Frecuentes](#preguntas-frecuentes)

## Instalación

### Windows
1. Descarga el instalador más reciente desde la página de [Lanzamientos](https://github.com/Nsfr750/MSR605/releases)
2. Ejecuta el instalador y sigue las instrucciones en pantalla
3. Conecta tu dispositivo MSR605 a un puerto USB disponible
4. Inicia la aplicación desde el Menú Inicio o el acceso directo en el escritorio

### Linux/macOS
1. Asegúrate de tener Python 3.8+ instalado
2. Instala las dependencias necesarias:
   ```bash
   pip install -r requirements.txt
   ```
3. Ejecuta la aplicación:
   ```bash
   python main.py
   ```

## Primeros Pasos

### Conexión del Dispositivo
1. Conecta tu dispositivo MSR605 a tu computadora usando el cable USB
2. La aplicación debería detectar automáticamente el dispositivo
3. La barra de estado mostrará "Dispositivo Conectado" cuando tenga éxito

### Interfaz Principal
- **Visualización de Datos**: Muestra los datos leídos de la tarjeta
- **Selección de Pistas**: Elige qué pistas leer/escribir (1, 2 y/o 3)
- **Botones de Acción**: Funciones de Leer, Escribir y Limpiar
- **Barra de Estado**: Muestra el estado de la conexión y los resultados de las operaciones

## Lectura de Tarjetas

1. Inserta una tarjeta de banda magnética en el lector
2. Haz clic en el botón "Leer"
3. Los datos de la tarjeta se mostrarán en la ventana principal
4. Para guardar los datos, haz clic en "Archivo" > "Guardar Como..."

## Escritura de Tarjetas

1. Inserta una tarjeta de banda magnética grabable en el escritor
2. Ingresa o pega los datos que deseas escribir en los campos de pista correspondientes
3. Selecciona a qué pistas deseas escribir
4. Haz clic en el botón "Escribir"
5. La barra de estado mostrará el resultado de la operación

## Formatos de Tarjeta

La aplicación admite dos estándares principales de tarjetas magnéticas: ISO 7811 e ISO 7813. Comprender estos formatos es crucial para realizar operaciones de lectura y escritura adecuadas.

### ISO 7811

ISO 7811 es el estándar internacional para tarjetas de identificación con bandas magnéticas. Define:

- **Pista 1**: Datos alfanuméricos (hasta 79 caracteres)
  - Formato: `%[código de formato][número de cuenta principal]^[nombre]^[fecha de vencimiento][código de servicio][datos discrecionales]?`
  - Ejemplo: `%B1234567890123456^TITULAR/TARJETA^24011234567890123456789?`

- **Pista 2**: Datos numéricos (hasta 40 caracteres)
  - Formato: `;[número de cuenta principal]=[fecha de vencimiento][código de servicio][datos discrecionales]?`
  - Ejemplo: `;1234567890123456=24011234567890123456?`

- **Pista 3**: Capacidad de lectura/escritura (poco común)
  - Principalmente datos numéricos
  - Se utiliza para transacciones financieras y actualizaciones de valor

### ISO 7813

ISO 7813 es un subconjunto de ISO 7811 específicamente para tarjetas de transacciones financieras. Diferencias clave:

- **Pista 1**: Con formato más estricto
  - El código de formato debe ser 'B' (bancario)
  - Longitudes de campo fijas para ciertos elementos de datos
  - Ejemplo: `%B1234567890123456^TITULAR/TARJETA^24011234567890123456789?`

- **Pista 2**: Similar a ISO 7811 pero con reglas de validación específicas
  - Ejemplo: `;1234567890123456=24011234567890123456?`

### Selección del Formato Correcto

1. Ve a **Configuración** > **Formato de Tarjeta**
2. Elige entre:
   - **Detección automática** (predeterminado): Detecta automáticamente el formato de la tarjeta
   - **ISO 7811**: Para tarjetas de propósito general
   - **ISO 7813**: Para tarjetas de transacciones financieras
3. Haz clic en **Aplicar** para guardar la configuración

## Configuración

### Ajustes del Dispositivo
- **Velocidad en Baudios**: Ajusta la velocidad de comunicación (predeterminado: 9600)
- **Paridad**: Establece la paridad (Ninguna, Par, Impar, Marca, Espacio)
- **Bits de Datos**: Establece el número de bits de datos (predeterminado: 8)
- **Bits de Parada**: Establece el número de bits de parada (predeterminado: 1)

### Ajustes de la Aplicación
- **Detección Automática de Dispositivo**: Activa/desactiva la detección automática de dispositivos
- **Iniciar Minimizado**: Inicia la aplicación minimizada en la bandeja del sistema
- **Guardar Registros**: Habilita el registro de operaciones en un archivo

## Solución de Problemas

### Problemas Comunes

#### Dispositivo No Detectado
- Asegúrate de que el dispositivo esté correctamente conectado al puerto USB
- Prueba con un puerto USB diferente
- Verifica si el dispositivo es reconocido en el Administrador de dispositivos de tu sistema
- Reinicia la aplicación

#### Fallos en la Lectura/Escritura
- Asegúrate de que la tarjeta esté correctamente insertada
- Limpia la banda magnética de la tarjeta
- Verifica que la tarjeta no esté protegida contra escritura
- Comprueba que la configuración de pistas coincida con el formato de la tarjeta

#### Fallos en la Aplicación
- Asegúrate de tener instalada la última versión
- Verifica el archivo de registro para ver los detalles del error
- Intenta reinstalar la aplicación

## Características Avanzadas

### Visualización de Datos

#### Visualización de Pistas
1. Lee una tarjeta o carga datos guardados
2. Haz clic en la pestaña "Visualización" en la ventana de Funciones Avanzadas
3. Visualiza las representaciones generadas para cada pista

### Personalización

#### Plantillas de Datos
Crea plantillas personalizadas para diferentes tipos de tarjetas:
1. Ve a **Plantillas** > **Nueva Plantilla**
2. Define los campos y formatos
3. Guarda la plantilla para uso futuro

## Preguntas Frecuentes

### ¿Cómo actualizo el controlador del dispositivo?
1. Descarga el controlador más reciente del sitio web del fabricante
2. Abre el Administrador de dispositivos
3. Busca el dispositivo MSR605
4. Haz clic derecho y selecciona "Actualizar controlador"
5. Sigue las instrucciones en pantalla

### ¿Qué hago si la aplicación se bloquea?
1. Cierra la aplicación
2. Desconecta y vuelve a conectar el dispositivo
3. Vuelve a abrir la aplicación
4. Si el problema persiste, contacta al soporte con los detalles del error

### Recibo errores de "Dispositivo no encontrado"
1. Desconecta y vuelve a conectar el dispositivo
2. Prueba con un puerto USB diferente
3. Verifica que el dispositivo aparezca en el Administrador de dispositivos
4. Reinstala los controladores si es necesario

## Documentación de la API

### Módulos Principales

#### `msr605`
El módulo principal que contiene la funcionalidad básica.

#### Clase `MSR605`
```python
class MSR605:
    def __init__(self, puerto=None, velocidad=9600, tiempo_espera=1):
        """Inicializa la conexión con el dispositivo MSR605.
        
        Args:
            puerto (str, opcional): Nombre del puerto serie. Si es None, se intenta la detección automática.
            velocidad (int, opcional): Velocidad de comunicación en baudios. Por defecto: 9600.
            tiempo_espera (int, opcional): Tiempo de espera de lectura en segundos. Por defecto: 1.
        """
        pass
    
    def conectar(self):
        """Establece la conexión con el dispositivo."""
        pass
    
    def desconectar(self):
        """Cierra la conexión con el dispositivo."""
        pass
    
    def esta_conectado(self):
        """Verifica si el dispositivo está conectado.
        
        Returns:
            bool: True si está conectado, False en caso contrario.
        """
        pass
    
    def leer_tarjeta(self, pistas=[1, 2, 3]):
        """Lee datos de una tarjeta de banda magnética.
        
        Args:
            pistas (list, opcional): Lista de pistas a leer (1, 2, 3). Por defecto: todas las pistas.
            
        Returns:
            dict: Diccionario que contiene los datos de las pistas con los números de pista como claves.
        """
        pass
    
    def escribir_tarjeta(self, datos_pista, verificar=True):
        """Escribe datos en una tarjeta de banda magnética.
        
        Args:
            datos_pista (dict): Diccionario con números de pista como claves y datos como valores.
            verificar (bool, opcional): Si se debe verificar los datos escritos. Por defecto: True.
            
        Returns:
            bool: True si la escritura fue exitosa, False en caso contrario.
        """
        pass
```

### Ejemplos de Uso

#### Lectura Básica
```python
from msr605 import MSR605

# Inicializa y conecta al dispositivo
dispositivo = MSR605()
dispositivo.conectar()

# Lee todas las pistas
datos = dispositivo.leer_tarjeta()
print(f"Pista 1: {datos.get(1, 'Sin datos')}")
print(f"Pista 2: {datos.get(2, 'Sin datos')}")
print(f"Pista 3: {datos.get(3, 'Sin datos')}")

# Desconecta
dispositivo.desconectar()
```

#### Escritura Básica
```python
from msr605 import MSR605

# Inicializa y conecta al dispositivo
dispositivo = MSR605()
dispositivo.conectar()

# Prepara los datos de las pistas
datos_pista = {
    1: "%B1234567890123456^TITULAR/TARJETA^25121010000000000000000000000000000?",
    2: ";1234567890123456=25121010000000000000?",
    3: ""  # Pista 3 vacía
}

# Escribe en la tarjeta
exito = dispositivo.escribir_tarjeta(datos_pista)
print(f"Escritura {'exitosa' if exito else 'fallida'}")

# Desconecta
dispositivo.desconectar()
```

## Especificaciones Técnicas

### Especificaciones del Hardware
- **Interfaz**: USB 2.0
- **Velocidad de Lectura/Escritura**: Hasta 30 cm/seg
- **Pistas**: 3 pistas (2 pistas de alta coercitividad, 1 pista de baja coercitividad)
- **Compatibilidad**: Cumple con ISO 7810, 7811, 7813, 4909, 3554
- **Fuente de Alimentación**: Alimentado por USB (5V DC)
- **Temperatura de Operación**: 0°C a 50°C
- **Humedad**: 20% a 90% sin condensación
- **Dimensiones**: 115mm x 75mm x 25mm
- **Peso**: Aproximadamente 100g

### Especificaciones del Software
- **Sistemas Operativos Compatibles**: Windows 7/8/10/11, Linux, macOS
- **Lenguajes de Programación**: Python 3.8+
- **Bibliotecas Requeridas**: pyserial, pyusb
- **Formatos de Archivo Soportados**: .txt, .bin, .eml, .json

## Soporte Técnico

### Recursos Adicionales
- [Manual del Usuario PDF](https://github.com/Nsfr750/MSR605/blob/master/docs/manual_usuario.pdf)
- [Preguntas Frecuentes](https://github.com/Nsfr750/MSR605/wiki/FAQ)
- [Foro de la Comunidad](https://github.com/Nsfr750/MSR605/discussions)

### Contacto
- **Soporte por Correo Electrónico**: soporte@ejemplo.com
- **Teléfono de Soporte**: +1 (555) 123-4567
- **Horario de Atención**: Lunes a Viernes, 9:00 AM - 5:00 PM (EST)

## Historial de Versiones

### Versión 1.2.0 (Actual)
- Añadido soporte para macOS Big Sur y versiones posteriores
- Mejorada la detección automática de dispositivos
- Corregido un error en la escritura de pistas de alta densidad
- Actualizadas las dependencias de seguridad

### Versión 1.1.0
- Añadida interfaz gráfica de usuario
- Implementada la verificación de escritura
- Mejorado el manejo de errores
- Añadida documentación de la API

### Versión 1.0.0
- Versión inicial del software
- Soporte para lectura/escritura básica
- Interfaz de línea de comandos
