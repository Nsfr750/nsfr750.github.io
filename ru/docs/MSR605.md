---
lang: ru
lang-niv: fonto
lang-ref: 015-jbk
layout: doc
order: 6
title: 'Считыватель/записыватель карт MSR605'
---

# Руководство пользователя MSR605 Card Reader/Writer

Добро пожаловать в руководство пользователя MSR605 Card Reader/Writer! Этот документ поможет вам начать работу с приложением для чтения и записи магнитных карт.

## Содержание
1. [Установка](#установка)
2. [Начало работы](#начало-работы)
3. [Чтение карт](#чтение-карт)
4. [Запись на карты](#запись-на-карты)
5. [Конфигурация](#конфигурация)
6. [Устранение неисправностей](#устранение-неисправностей)

## Установка

### Windows
1. Скачайте последнюю версию установщика со страницы [Releases](https://github.com/Nsfr750/MSR605/releases)
2. Запустите установщик и следуйте инструкциям на экране
3. Подключите устройство MSR605 к свободному USB-порту
4. Запустите приложение из меню "Пуск" или с помощью ярлыка на рабочем столе

### Linux/macOS
1. Убедитесь, что у вас установлен Python 3.8+
2. Установите необходимые зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите приложение:
   ```bash
   python main.py
   ```

## Начало работы

### Подключение устройства
1. Подключите устройство MSR605 к компьютеру с помощью USB-кабеля
2. Приложение должно автоматически обнаружить устройство
3. В строке состояния отобразится "Устройство подключено" при успешном подключении

### Основной интерфейс
- **Отображение данных карты**: Показывает данные, считанные с карты
- **Выбор дорожки**: Выбор дорожек для чтения/записи (1, 2 и/или 3)
- **Кнопки действий**: Чтение, запись и очистка
- **Строка состояния**: Отображает статус подключения и результаты операций

## Чтение карт

1. Вставьте магнитную карту в считыватель
2. Нажмите кнопку "Чтение"
3. Данные карты отобразятся в главном окне
4. Для сохранения данных нажмите "Файл" > "Сохранить как..."

## Запись на карты

1. Вставьте перезаписываемую магнитную карту в устройство
2. Введите или вставьте данные для записи в соответствующие поля дорожек
3. Выберите дорожки для записи
4. Нажмите кнопку "Запись"
5. В строке состояния отобразится результат операции

## Поддерживаемые форматы карт

Приложение поддерживает два основных стандарта магнитных карт: ISO 7811 и ISO 7813.

### ISO 7811

Международный стандарт для идентификационных карт с магнитной полосой:

- **Дорожка 1**: Буквенно-цифровые данные (до 79 символов)
  - Формат: `%[код формата][основной номер счёта]^[имя]^[срок действия][код услуги][дополнительные данные]?`
  - Пример: `%B1234567890123456^CARDHOLDER/NAME^24011234567890123456789?`

- **Дорожка 2**: Цифровые данные (до 40 символов)
  - Формат: `;[основной номер счёта]=[срок действия][код услуги][дополнительные данные]?`
  - Пример: `;1234567890123456=24011234567890123456?`

### ISO 7813

Подмножество ISO 7811 для финансовых карт:

- **Дорожка 1**: Строгий формат
  - Код формата должен быть 'B' (банковский)
  - Фиксированная длина полей
  - Пример: `%B1234567890123456^CARDHOLDER/NAME^24011234567890123456789?`

### Выбор формата

1. Перейдите в **Настройки** > **Формат карты**
2. Выберите:
   - **Автоопределение** (по умолчанию)
   - **ISO 7811**: Для карт общего назначения
   - **ISO 7813**: Для финансовых карт
3. Нажмите **Применить**

## Конфигурация

### Настройки устройства
- **Скорость передачи**: Настройка скорости обмена (по умолчанию: 9600)
- **Чётность**: Установка чётности (Нет, Чётная, Нечётная, Маркер, Пробел)
- **Биты данных**: Количество битов данных (по умолчанию: 8)
- **Стоповые биты**: Количество стоповых битов (по умолчанию: 1)

### Настройки приложения
- **Автоопределение устройства**: Вкл/выкл автоматическое определение
- **Запуск свёрнутым**: Запуск приложения свёрнутым в системный трей
- **Сохранение логов**: Включение записи логов в файл

## Устранение неисправностей

### Распространённые проблемы

#### Устройство не обнаружено
- Проверьте подключение к USB-порту
- Попробуйте другой USB-порт
- Проверьте отображение устройства в Диспетчере устройств
- Перезапустите приложение

#### Ошибки чтения/записи
- Убедитесь в правильности вставки карты
- Очистите магнитную полосу карты
- Проверьте, не защищена ли карта от записи
- Убедитесь в соответствии формата карты

#### Сбои приложения
- Убедитесь, что у вас последняя версия
- Проверьте файл лога на наличие ошибок
- Попробуйте переустановить приложение

# Документация по API MSR605

## Основные модули

### `msr605`
Главный модуль, содержащий основную функциональность.

#### Класс `MSR605`
```python
class MSR605:
    def __init__(self, port=None, baudrate=9600, timeout=1):
        """Инициализация подключения к устройству MSR605.
        
        Аргументы:
            port (str, опционально): Имя последовательного порта. Если None, 
                                   выполняется попытка автоопределения.
            baudrate (int, опционально): Скорость обмена. По умолчанию 9600.
            timeout (int, опционально): Таймаут чтения в секундах. По умолчанию 1.
        """
        pass
    
    def connect(self):
        """Установить соединение с устройством."""
        pass
    
    def disconnect(self):
        """Закрыть соединение с устройством."""
        pass
    
    def is_connected(self):
        """Проверить подключение к устройству.
        
        Возвращает:
            bool: True если подключено, иначе False.
        """
        pass
```

## Примеры использования

### Чтение карты
```python
from msr605 import MSR605

try:
    # Инициализация с автоопределением порта
    device = MSR605()
    device.connect()
    
    if device.is_connected():
        # Чтение всех дорожек
        tracks = device.read_tracks()
        
        # Вывод данных
        for i, track in enumerate(tracks, 1):
            if track['data']:
                print(f"Дорожка {i}: {track['data']}")
            else:
                print(f"Дорожка {i}: Нет данных")
    
    device.disconnect()
    
except Exception as e:
    print(f"Ошибка: {str(e)}")
    if 'device' in locals():
        device.disconnect()
```

## Устранение неполадок API

### Ошибка: "Устройство не найдено"
1. Проверьте подключение устройства
2. Убедитесь, что драйверы установлены корректно
3. Проверьте права доступа к последовательному порту
4. Обратитесь в службу поддержки с описанием ошибки
